<div *ngIf="products; else loading">
  <div class="row col-12 col-md-8 col-lg-8">
    <app-catalog-item
      class="col-12 col-md-4 col-lg-4 mb-2"
      *ngFor="let product of visibleProducts; trackBy: trackByFn"
      [product]="product"
      (buy)="onBuy($event)"
    >
    </app-catalog-item>
  </div>
  <ngb-pagination
    class="d-flex justify-content-center col-12 col-md-8 col-lg-8"
    size="md"
    [collectionSize]="products.length"
    [(page)]="page"
    [maxSize]="5"
    [pageSize]="gridSize"
    [rotate]="true"
    [ellipses]="false"
    [boundaryLinks]="true"
    [directionLinks]="true"
    (pageChange)="setProductsOnPage($event)"
  >
  </ngb-pagination>
</div>

<ng-template #loading>
  <div class="row">
    <div class="catalog-loading"></div>
  </div>
</ng-template>
